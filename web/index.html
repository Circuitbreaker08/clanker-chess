<!DOCTYPE html>
<html>
    <head>
        <script type="module">
            import {getCookieByName} from "/utils.js";
            document.addEventListener('DOMContentLoaded', async function() {
                let response = await fetch("/api/token_validator", {
                    method: "POST",
                    headers: {
                        "token": getCookieByName("token")
                    }
                });
                let json = await response.json()

                let element = document.getElementById("account");
                if (json["valid"]) {
                    element.innerHTML = "<a href=\"/account.html\"><h2>Account</h2></a>";
                } else {
                    element.innerHTML = "<a href=\"/signin.html\"><h2>Sign In</h2></a>";
                }
            });
        </script>
    </head>
    <body>
        <h1>Clanker Chess</h1>
        <br>
        <div>
            <div id="account"></div>
            <a href="./users.html"><h2>User Index</h2></a>
            <a href="./games.html"><h2>Games Index</h2></a>
            <a href="./leaderboards.html"><h2>Leaderboards</h2></a>
        </div>
    </body>
</html>