<!DOCTYPE html>
<html>
    <head>
        <script type="module">
            import {getCookieByName} from "/utils.js";
            document.addEventListener("DOMContentLoaded", async function() {
                document.getElementById("create_new_user").onclick = async function() {
                    let username = document.getElementById("new_username").value;
                    let response = await fetch("/api/admin/new_user", {
                        method: "POST",
                        headers: {
                            "token": getCookieByName("password"),
                            "username": username
                        }
                    });
                    let json = await response.json();
                    if (!json) {
                        alert("Failure");
                    }
                };
            });
        </script>
    </head>
    <body>
        <h1>Add New User</h1>
        <input type="text" id="new_username"><br>
        <button id="create_new_user" type="button">Submit</button>
    </body>
</html>